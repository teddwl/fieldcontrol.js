var FieldControl=function(e,t){var n=this;if(n.form=e.jquery?e[0]:e,n.enablers=n.form.querySelectorAll("[data-enable]"),n.disablers=n.form.querySelectorAll("[data-disable]"),n.checktypes=["checkbox","radio"],n.options=void 0===t?{enable:!0,disable:!0,initialize:!1,selector:"name"}:t,n.options.enable)for(var a=0;a<n.enablers.length;a++){var o=n.enablers[a],r=o.getAttribute("data-enable").split(" ");n.strayHandlers(o,r,"enable")}if(n.options.disable)for(var a=0;a<n.disablers.length;a++){var o=n.disablers[a],r=o.getAttribute("data-disable").split(" ");n.strayHandlers(o,r,"disable")}};FieldControl.prototype.strayHandlers=function(e,t,n){var a=this,o=a.checktypes.indexOf(e.type)>-1?"change":"input";addEventHandler(e,o,function(){a.handleControl(t,e,n)}),a.options.initialize&&a.handleControl(t,e,n)},FieldControl.prototype.handleControl=function(e,t,n){var a,o=this,r=o.checktypes.indexOf(t.type)>-1;a=r?t.checked:o.checkCondition(t);for(var i=0;i<e.length;i++)o.updateState(e[i],a,n)},FieldControl.prototype.updateState=function(e,t,n){for(var a=this,o=a.form.querySelectorAll("["+a.options.selector+"='"+e+"']"),r=0;r<o.length;r++)o[r].disabled="enable"==n?!t:t},FieldControl.prototype.checkCondition=function(e){var t=this;return null!=e.getAttribute("data-condition")?t.evaluateCondition(e):""!=e.value},FieldControl.prototype.evaluateCondition=function(e){var t=e.getAttribute("data-condition");try{return new RegExp(t).test(e.value)}catch(n){return e.value==t}};function addEventHandler(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}